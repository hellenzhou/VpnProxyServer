# 🚀 极简VPN代理服务器

## 📋 核心功能

1. **接收VPN客户端数据** - 监听UDP端口
2. **转发到外网** - 直接发送到目标服务器
3. **接收外网响应** - 等待目标服务器回复
4. **回发VPN客户端** - 将响应发送回客户端

## 🎯 简化逻辑

### **之前复杂版本：**
- NAT表管理
- UDP重传机制
- 工作线程池
- 任务队列
- 网络诊断
- 协议处理

### **现在极简版本：**
- 直接socket转发
- 简单响应线程
- DNS重定向
- 基本错误处理

## 📁 文件结构

```
极简版/
├── vpn_server_simple.cpp/h     # 主服务器
├── packet_forwarder_simple.cpp # 转发逻辑
└── CMakeLists_simple.txt       # 构建文件
```

## 🚀 使用方法

```cpp
#include "vpn_server_simple.h"

// 启动服务器
int serverFd = StartSimpleServer(8888);

// 停止服务器
StopSimpleServer();
```

## 🔄 工作流程

1. **VPN客户端** → **代理服务器** (UDP 8888)
2. **代理服务器** → **外网服务器** (直接转发)
3. **外网服务器** → **代理服务器** (响应)
4. **代理服务器** → **VPN客户端** (回发)

## ✨ 优势

- **代码简洁** - 只有核心转发功能
- **性能高效** - 无复杂中间层
- **易于维护** - 逻辑清晰简单
- **快速部署** - 最小依赖

## 🔧 DNS重定向

所有DNS查询自动重定向到8.8.8.8，确保解析成功。
